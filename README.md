# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Документация
Архитектура приложения соответствует мобели MVP (Model - View - Presenter)
Слои модели данных [Model]

Далее идет описание слоя **View** для всех компонентов

Класс **Basket** - отвечает за отображение всей  корзины целиком
1. Данный класс расширяется (extends) от базового класса Component
2. Внутри данного класса будут поля: 
    - Список для карточек 
    - Стоимость всех товаров, 
    - Кнопк Оформить + навешано событие клика
    - Кнопка Закрытия корзины + навешано событие клика
    - Свойство отвечающее за отображение и скрытие корзины на странице
3. Конструктор класс принимает соответствующий элемент со страницы и экземпляр класса EventEmitter

Класс **BasketItem** - отвечает за отображение 1-го товара внутри корзины
1. Данный класс расширяется (extends) от базового класса Component
2. Внутри данного класса будут поля: 
    - Порядковый номер 
    - Заголовок
    - Стоимость товара
    - Кнопка удаления товара из корзины + навешано событие клика
3. Конструктор класс принимает соответствующий элемент со страницы и экземпляр класса EventEmitter

Класс **Card** - отвечает за отображение 1-й карточки, пришедшей с сервера, на главной странице
1. Данный класс расширяется (extends) от базового класса Component
2. Внутри данного класса будут поля: 
    - Категория товара 
    - Заголовок товара
    - Изображение (url)
    - Стоимость товара
    - Id - товара
    - Кнопка удаления товара из корзины + навешано событие клика
    - На карточку навешано событие клика (для открытия Превью карточки)
3. Конструктор класс принимает соответствующий элемент со страницы и экземпляр класса EventEmitter

Класс **Contacts** - отвечает за отображение модального окна, в котором необходимо указать email и номер телефона
1. Данный класс расширяется (extends) от базового класса Component
2. Внутри данного класса будут поля: 
    - Кнопка закрытия 
    - Поля для ввода email + навешано событие input
    - Поле для ввода нмера телефона + навено событие input
    - Кнопка для оплаты покупок + навено событие click
    - Форма, в котором находятся поля для ввода email и номера телефона + навешать событие submit, для предотвращение перезагрузки страницы
3. Конструктор класс принимает соответствующий элемент со страницы и экземпляр класса EventEmitter

Класс **Order** - отвечает за отображение модального окна, в котором необходимо указать способ оплаты и адрес доставки товара
1. Данный класс расширяется (extends) от базового класса Component
2. Внутри данного класса будут поля: 
    - Кнопка для оплаты - Онлайн
    - Кнопка для оплаты - При получении
    - Кнопка закрытия модального окна 6 навено событие click
    - Поле для ввода адреса + навено событие input
    - Кнопка Далее  + навено событие click
    - Форма, внутри которой лежат поля input + навено событие submit для отмены перезагрузки страницы
3. Конструктор класс принимает соответствующий элемент со страницы и экземпляр класса EventEmitter

Класс **Page** - отвечает за главную страницу
1. Данный класс расширяется (extends) от базового класса Component
2. Внутри данного класса будут поля: 
    - Контейнер для карточек товаров
    - Кнопка корзины, при нажатию на которую открывается корзина (экземпляр Basket) + навено событие click
    - Элемент (счетчик), где отображается количество элементов в корзине
3. Конструктор класс принимает соответствующий элемент со страницы и экземпляр класса EventEmitter

Класс **Preview** - отвечает для отображение модального окна (Превью) карточки
1. Данный класс расширяется (extends) от базового класса Component
2. Внутри данного класса будут поля: 
    - Изображение
    - Категория товара
    - Заголовок товара
    - Описание товара
    - Цена товара
    - Кнопка (В корзину/Удалить из Корзины) + навено событие click
    - Кнопка закрытия корзины + навешано событие click
    - Id - карточки
3. Конструктор класс принимает соответствующий элемент со страницы и экземпляр класса EventEmitter

Класс **Success** - отвечает отображение мобального окна об успешной покупке
1. Данный класс расширяется (extends) от базового класса Component
2. Внутри данного класса будут поля: 
    - Кнопка закрытия модального окна + навешано событие click
    - Кнопка - За новыми покупками + Навешано событие click
    - Общая стоимость покупок
3. Конструктор класс принимает соответствующий элемент со страницы и экземпляр класса EventEmitter

Далее идет описание слоя **Model** для всех компонентов

1. Данный класс содержит поля
    - Массив всех карточек
    - Массив товаров в корзине
    - Объект для хранения способов оплаты и адреса доставки
    - Объект для хранения email и номера телефона
2. Внутри данного класса будут следующие методы:
    - Установить массив карточек
    - Получить массив карточек
    - Получить конкретную карточку по id
    
    - Установить массив товаров в корзине
    - Получить массив товаров в корзине
    - Обновить массив товаров в корзине. Принимает id - если принятый id есть в корзине, то удалить товар из корзины. Если id нет в корзине, то добавить товар в корзину
    - Проверка на наличие товара в корзине по id
    - Получить общее количество товаро в корзине
    - Получить общую стоимость товаров в корзине
    - Установить способ оплаты и адрес в корзину
    - Установить email и номер телефона в корзине
    - Получить способ оплаты и адрес доставки
    - Получить email и номер телефона
    - Валидные ли поля: способ оплаты и адрес доставки
    - Валидные ли поля: email и номер телефона
    - Сбросить все поля до исходных значений

Далее идет описание слоя **Presenter** для всех компонентов
1. Событие cards:set - Установить карточки
2. Событие card-preview:open - Открыть Превью карточки
3. Событие card-preview:close - Закрыть Превью карточки
4. Событие basket:changed - Изменение товаров в корзине
5. Событие basket:update - Перерисовка товаров в корзине
6. Событие basket:open - Открытие корзины
7. Событие basket:close - Закрытие корзины
8. Событие order:open - Открытие окна со способами оплаты и адресом доставки
9. Событие order:close - Закрытие окна со способами оплаты и адресом доставки
10. Событие order:set - Установить данные в способами оплаты и адресом доставки
11. Событие contacts:open - Открытие окна c email и номером телефона
12. Событие order:close - Закрытие окна с email и номером телефона
13. Событие order:set - Установить данные в email и номером телефона
14. Событие oreder:request - Запрос на сервер при оформлении покупки товаров + открытие окна об успешной покупке
15. Событие success:close - Закрытие окна об успешной покупке